"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[925],{2925:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var s=a(9669),r=a.n(s);const n={name:"category_list",beforeMount:function(){this.getCategoryList()},mounted:function(){this.$emit("pagetitlechange",this.page_title)},data:function(){return{page_title:"Category",category:{},countries:[],submitted:!1,geocoder:"",server_errors:{}}},methods:{edit:function(t){var e=this;r().post(this.$popup_data.route("category_detail")+"/"+t,{}).then((function(t){e.category=t.data.data}))},update:function(){var t=this;r().post(this.$popup_data.route("category_update")+"/"+t.category.id,t.category).then((function(e){t.$popup_data.message(e.data.message),t.getCategoryList()})).catch((function(e){t.server_errors=e.response.data.errors}))},getCategoryList:function(){var t=this;r().get(this.$popup_data.route("category_get"),{}).then((function(e){t.countries=e.data.data}))},clear:function(){this.category={}},save:function(){this.submitted=!0;var t=this;this.$validator.validate().then((function(e){if(e){var a=t.$popup_data.route("category_add");r().post(a,t.category).then((function(e){t.server_errors={},t.category={},t.$popup_data.message(e.data.message),t.getCategoryList()})).catch((function(e){t.server_errors=e.response.data.errors}))}}))},remove:function(t){var e=this;r().delete(this.$popup_data.route("category_delete")+"/"+t,{_method:"delete"}).then((function(t){e.$popup_data.message(t.data.message),e.getCategoryList()}))}}};const o=(0,a(1900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row mb-3"},[t._m(0),t._v(" "),a("div",{staticClass:"col-auto"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category.name,expression:"category.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&t.errors.has("name")},attrs:{name:"name",type:"text",placeholder:"Category name"},domProps:{value:t.category.name},on:{input:function(e){e.target.composing||t.$set(t.category,"name",e.target.value)}}})]),t._v(" "),t.$_.has(t.server_errors,"name")?a("div",{staticClass:"invalid-feedback d-block"},[t._v("\n                "+t._s(t.server_errors.name.join(", "))+"\n            ")]):t._e()]),t._v(" "),a("div",{staticClass:"col-auto"},[t.$_.has(t.category,"id")?a("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:t.update}},[t._v("Update")]):a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.save}},[t._v("Add")]),t._v(" "),a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:t.clear}},[t._v("Clear")])])]),t._v(" "),a("table",{staticClass:"table table-bordered"},[t._m(1),t._v(" "),a("tbody",t._l(t.countries,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-sm btn-info",on:{click:function(a){return t.edit(e.id)}}},[a("i",{staticClass:"fa fa-edit"})]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(a){return t.remove(e.id)}}},[a("i",{staticClass:"fa fa-trash"})])])])})),0)])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-auto"},[a("label",{staticClass:"form-label"},[t._v("Category name:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Action")])])])}],!1,null,null,null).exports}}]);