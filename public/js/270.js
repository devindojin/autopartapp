"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[270],{9270:(t,a,e)=>{e.r(a),e.d(a,{default:()=>d});var s=e(9669),n=e.n(s);const i={name:"product_list",mounted:function(){this.$emit("pagetitlechange",this.page_title),this.getProductList();var t=this;$(document).on("click","[data-edit]",(function(){var t="";"deposit_amount"==$(this).attr("data-edit")?t='<div class="input-group">\n                        <input class="form-control" placeholder="Amount" type="number" value="'+$(this).closest("td").find("span.editable").text()+'" />\n                        <div class="input-group-append">\n                            <button data-save="'+$(this).attr("data-edit")+'" data-variant_id="'+$(this).attr("data-variant_id")+'" class="btn btn-outline-primary" type="button"><i class="fa fa-save"></i></button>\n                        </div>\n                    </div>':"deposit_note"==$(this).attr("data-edit")&&(t='<div class="input-group">\n                        <textarea class="form-control">'+$(this).closest("td").find("span.editable").text()+'</textarea>\n                        <div class="input-group-append">\n                            <button data-save="'+$(this).attr("data-edit")+'" data-variant_id="'+$(this).attr("data-variant_id")+'" class="btn btn-outline-primary" type="button"><i class="fa fa-save"></i>\n                            </button>\n                        </div>\n                    </div>'),$(this).closest("td").html(t),$(this).remove()})),$(document).on("click","[data-save]",(function(){var a=new Object;a[$(this).attr("data-save")]=$(this).closest("td").find("input, textarea").val(),$(this).closest("td").html("<span>".concat($(this).closest("td").find("input, textarea").val(),'</span>\n                        <button class="btn btn-sm btn-outline-primary" data-edit="deposit_note" data-variant_id="').concat($(this).attr("data-variant_id"),'">\n                            <i class="fa fa-edit"></i>\n                        </button>')),t.updateVariant($(this).attr("data-variant_id"),a)}))},data:function(){return{page_title:"Product",server_errors:{},variants:[],idforupdate:"",datatable:""}},methods:{getProductList:function(){var t=this;""==this.datatable?this.datatable=$(".data-table").DataTable({processing:!0,serverSide:!0,ajax:{url:t.$popup_data.route("variant_get"),dataFilter:function(t){var a=jQuery.parseJSON(t);return JSON.stringify(a)},sync:!1},columns:[{data:"id",name:"id"},{data:"legacy_resource_id",name:"legacy_resource_id"},{data:"title",name:"title"},{data:"sku",name:"sku"},{data:"product.title",name:"product.title"},{data:"product.status",name:"product.status"},{data:"deposit_amount",name:"deposit_amount"},{data:"deposit_note",name:"deposit_note"},{data:"deposit_status",name:"deposit_status"}],drawCallback:function(a,e){$("[data-bootstrap-switch]").each((function(){$(this).bootstrapSwitch({onSwitchChange:function(a,e){var s=$(a.currentTarget).attr("data-variant_id"),n={deposit_status:e=e?"true":"false"};t.updateVariant(s,n)}})}))}}):this.datatable.ajax.reload()},updateVariant:function(t,a){console.log(t),console.log(a);var e=this;n().post(this.$popup_data.route("variant_update")+"/"+t,a).then((function(t){console.log(t),e.$popup_data.message(t.data.message)})).catch((function(t){console.log(t)}))}},components:{"product-edit":Vue.component("product-edit",{template:"<div>\n                <h1>lodesdasdasad</h1>\n            </div>",mounted:function(){console.log("ok")}})}};const d=(0,e(1900).Z)(i,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row mb-3"},[t._m(0),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered data-table"},[t._m(1),t._v(" "),t.variants.length>0?e("tbody",t._l(t.variants,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(s+1))]),t._v(" "),e("td",[t._v(t._s(a.legacy_resource_id))]),t._v(" "),e("td",[t._v(t._s(a.title))]),t._v(" "),e("td",[t._v(t._s(a.sku))]),t._v(" "),e("td",[t._v(t._s(a.product.title))]),t._v(" "),e("td",[t._v(t._s(a.product.status))]),t._v(" "),e("td",[e("div",[e("span",[t._v("$")]),t._v(" "),e("span",{staticClass:"editable"},[t._v(t._s(a.deposit_amount))]),t._v(" "),t._m(2,!0)])]),t._v(" "),e("td",[t._v(t._s(a.deposit_note))]),t._v(" "),e("td",[t._v(t._s(a.deposit_status))])])})),0):e("tbody",[t._m(3)])])])])])}),[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-auto"},[e("label",{staticClass:"form-label"},[t._v("Product list:")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("#")]),t._v(" "),e("th",[t._v("Variant id")]),t._v(" "),e("th",[t._v("Title")]),t._v(" "),e("th",[t._v("SKU")]),t._v(" "),e("th",[t._v("Product title")]),t._v(" "),e("th",[t._v("Status")]),t._v(" "),e("th",[t._v("Deposit amount")]),t._v(" "),e("th",[t._v("Deposit note")]),t._v(" "),e("th",[t._v("Deposit status")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",[a("i",{staticClass:"fa fa-edit"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("td",{attrs:{colspan:"9",align:"center"}},[t._v("\n                            No Product Found.\n                        ")])])}],!1,null,null,null).exports}}]);